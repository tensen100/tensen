<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>爆炸</title>
    <link rel="stylesheet" href="css/common.css">
    <!--<script type="text/javascript" src="js/jquery-2.2.2.min.js"></script>-->
    <style>
        .container{
            width: 800px;
            margin: auto;
        }
        .slideBox{
            width: 100%;
            font-size: 0;
            position: relative;
        }
        .slideBox .item{
            width: 100%;
            /*position: absolute;*/
        }
        .slideBox img{
            width: 100%;
        }
        .box{
            position: absolute;
            top: 0;
            left: 0;
            transition: all 1s;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="slideBox" id="slideBox">
        <div class="item">
            <img src="imgs/1.jpg" alt=" ">
        </div>
    </div>
</div>
<script>
    //分裂成多少块
    var NUM = 3;

    var slideBox = document.getElementById("slideBox");

    //每一块的宽度和高度
    var count = slideBox.getElementsByClassName("item")[0];

    //此处有BU必须空一行才能获取到高度
    var width = count.offsetWidth/NUM;
    var height = count.offsetHeight/NUM;
    console.log(width*NUM);
    console.log(height*NUM);

    for(var y=0;y<NUM;y++){
        for(var x=0;x<NUM;x++){
            var box = document.createElement("div");
            var clone = count.cloneNode();
            clone.innerHTML=count.innerHTML;
            box.setAttribute("class","box");
            box.style="clip: rect("+y*height+"px,"+(x+1)*width+"px,"+(y+1)*height+"px,"+x*width+"px)";
//            box.style.width=width+"px";
//            box.style.height=height+"px";
//            box.style.left=x*width+"px";
//            box.style.top=y*height+"px";
            box.appendChild(clone);
            slideBox.appendChild(box);
        }
    }
    slideBox.onclick=function () {
        var boxes=slideBox.getElementsByClassName("box");
        for(var i=0;i<boxes.length;i++){
            var randSkew = rand(-5, 10),
                    randScale = rand(0.9, 1.1),
                    randRotate = rand(30, 5);
            boxes[i].style.transform= 'scale('+randScale+') skew('+randSkew+'deg) rotateZ('+randRotate+'deg)';

            var vx=rand(-10,10),
                    vy=rand(-10,10),sx,sy
            var i=setInterval(function () {


            },10)


        }
    };



    // 快速选择随机数量的块
    function rand(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }



</script>
</body>
</html>